using System;

public class DocumentWorker
{
    public virtual void OpenDocument()
    {
        Console.WriteLine("Документ открыт");
    }

    public virtual void EditDocument()
    {
        Console.WriteLine("Редактирование документа доступно в версии Pro");
    }

    public virtual void SaveDocument()
    {
        Console.WriteLine("Сохранение документа доступно в версии Pro");
    }
}


public class ProDocumentWorker : DocumentWorker
{
    public override void EditDocument()
    {
        Console.WriteLine("Документ отредактирован");
    }

    public override void SaveDocument()
    {
        Console.WriteLine("Документ сохранен в старом формате, сохранение в остальных форматах доступно в версии Expert");
    }
}


public class ExpertDocumentWorker : ProDocumentWorker
{
    public override void SaveDocument()
    {
        Console.WriteLine("Документ сохранен в новом формате");
    }
}

class Program
{
    static void Main(string[] args)
    {
        Console.WriteLine("Введите ключ доступа (pro/exp) или нажмите Enter для бесплатной версии:");
        string key = Console.ReadLine();

        DocumentWorker documentWorker;

        if (key?.ToLower() == "exp")
        {
            documentWorker = new ExpertDocumentWorker();
            Console.WriteLine("Активирована версия Expert!");
        }
        else if (key?.ToLower() == "pro")
        {
            documentWorker = new ProDocumentWorker();
            Console.WriteLine("Активирована версия Pro!");
        }
        else
        {
            documentWorker = new DocumentWorker();
            Console.WriteLine("Активирована бесплатная версия!");
        }

        Console.WriteLine("\nДемонстрация функционала:");

       
        documentWorker.OpenDocument();
        documentWorker.EditDocument();
        documentWorker.SaveDocument();
        Console.ReadKey();
    }
}
